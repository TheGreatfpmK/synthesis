2024-04-05 00:04:51,770 - cli.py - This is Paynt version 0.1.0.
2024-04-05 00:04:51,770 - sketch.py - loading sketch from ../sarsop/models/09999/hanks.95.pomdp ...
2024-04-05 00:04:51,770 - sketch.py - assuming sketch in PRISM format...
ERROR (SpiritErrorHandler.h:27): Parsing error at 1:1:  expecting <model type>, here:
	# Problem based on example in some of Steve Hanks' papers
	^

2024-04-05 00:04:51,771 - sketch.py - assuming sketch in DRN format...
ERROR (DirectEncodingParser.cpp:124): Could not parse line '# Problem based on example in some of Steve Hanks' papers'.
2024-04-05 00:04:51,771 - sketch.py - assuming sketch in Cassandra format...
MADP: trying to parse as POMDP...
MADP: parsing success
2024-04-05 00:04:51,773 - sketch.py - applying discount factor transformation...
2024-04-05 00:04:51,773 - sketch.py - sketch parsing OK
2024-04-05 00:04:51,773 - sketch.py - constructed explicit quotient having 12 states and 42 actions
2024-04-05 00:04:51,773 - sketch.py - found the following specification optimality: R[exp]{"reward"}max=? [F "discount_sink"] 
2024-04-05 00:04:51,773 - pomdp.py - constructed POMDP having 5 observations.
2024-04-05 00:04:51,773 - pomdp.py - unfolding 1-FSC template into POMDP ...
2024-04-05 00:04:51,773 - pomdp.py - constructed quotient MDP having 12 states and 42 actions.
2024-04-05 00:04:51,773 - pomdp.py - creating coloring ...
2024-04-05 00:04:51,776 - synthesizer_pomdp.py - Storm POMDP option enabled
2024-04-05 00:04:51,776 - synthesizer_pomdp.py - Storm settings: iterative - (900, 90, 10), get_storm_result - None, storm_options - cutoff, prune_storm - False, unfold_strategy - (True, False), use_storm_cutoffs - False, enhanced_saynt - None, saynt_overapprox - False
2024-04-05 00:04:51,777 - synthesizer.py - synthesis initiated, design space: 64
2024-04-05 00:04:51,777 - synthesizer_pomdp.py - Timeout for PAYNT started
-----------PAYNT-----------                     
Value = 9.995893002212597e-13 | Time elapsed = 0.1s | FSC size = 10

-----------PAYNT-----------                     
Value = 0.24997499999999997 | Time elapsed = 0.2s | FSC size = 10

-----------PAYNT-----------                     
Value = 0.36440044629809654 | Time elapsed = 0.2s | FSC size = 10

-----------PAYNT-----------                     
Value = 0.364436707746005 | Time elapsed = 0.2s | FSC size = 10

2024-04-05 00:04:51,995 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-05 00:04:51,995 - synthesizer.py - A(NBL,0)=(inspect), A(BL,0)=(reject), A(__no_obs__,0)=(inspect)
2024-04-05 00:04:52,000 - synthesizer.py - double-checking specification satisfiability:  : 0.364436707746005
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [F "discount_sink"] 

method: AR, synthesis time: 0.22 s
number of holes: 3, family size: 64, quotient: 12 states / 42 actions
explored: 100 %
MDP stats: avg MDP size: 12, iterations: 30

optimum: 0.364437
--------------------
2024-04-05 00:04:52,004 - synthesizer_pomdp.py - Terminate: False
2024-04-05 00:04:52,004 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-05 00:04:52,004 - pomdp.py - unfolding 2-FSC template into POMDP ...
2024-04-05 00:04:52,004 - pomdp.py - constructed quotient MDP having 22 states and 163 actions.
2024-04-05 00:04:52,004 - pomdp.py - creating coloring ...
2024-04-05 00:04:52,004 - synthesizer.py - synthesis initiated, design space: 524288
> progress 19.287%, elapsed 3 s, estimated 15 s, iters = {MDP: 125}, opt = 0.364
> progress 26.757%, elapsed 6 s, estimated 22 s, iters = {MDP: 302}, opt = 0.364
-----------PAYNT-----------                     
Value = 0.432156980362539 | Time elapsed = 8.7s | FSC size = 16

> progress 69.512%, elapsed 9 s, estimated 13 s, iters = {MDP: 801}, opt = 0.432
-----------PAYNT-----------                     
Value = 0.49980076224051717 | Time elapsed = 9.3s | FSC size = 16

-----------PAYNT-----------                     
Value = 0.5935443073371923 | Time elapsed = 9.3s | FSC size = 16

-----------PAYNT-----------                     
Value = 0.6151225096903203 | Time elapsed = 9.4s | FSC size = 16

> progress 80.859%, elapsed 12 s, estimated 15 s, iters = {MDP: 1463}, opt = 0.615
-----------PAYNT-----------                     
Value = 0.674061913136931 | Time elapsed = 15.6s | FSC size = 16

-----------PAYNT-----------                     
Value = 0.6741751926874353 | Time elapsed = 15.7s | FSC size = 16

> progress 95.245%, elapsed 15 s, estimated 16 s, iters = {MDP: 2112}, opt = 0.674
2024-04-05 00:05:09,962 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-05 00:05:09,963 - synthesizer.py - A(NBL,0)=(inspect), A(NBL,1)=(inspect), M(NBL,0)=0, M(NBL,1)=0, A(BL,0)=(inspect), A(BL,1)=(reject), M(BL,0)=1, M(BL,1)=0, M(init,0)=1, A(__no_obs__,0)=(reject), A(__no_obs__,1)=(inspect), M(__no_obs__,0)=0, M(__no_obs__,1)=1
2024-04-05 00:05:09,970 - synthesizer.py - double-checking specification satisfiability:  : 0.6741751926874353
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [F "discount_sink"] 

method: AR, synthesis time: 17.96 s
number of holes: 13, family size: 524288, quotient: 22 states / 163 actions
explored: 100 %
MDP stats: avg MDP size: 22, iterations: 2514

optimum: 0.674175
--------------------
2024-04-05 00:05:09,977 - synthesizer_pomdp.py - Terminate: False
2024-04-05 00:05:09,977 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-05 00:05:09,977 - pomdp.py - unfolding 3-FSC template into POMDP ...
2024-04-05 00:05:09,977 - pomdp.py - constructed quotient MDP having 32 states and 364 actions.
2024-04-05 00:05:09,977 - pomdp.py - creating coloring ...
2024-04-05 00:05:09,978 - synthesizer.py - synthesis initiated, design space: 1e10
> progress 2.343%, elapsed 3 s, estimated 133 s, iters = {MDP: 33}, opt = 0.674
> progress 4.875%, elapsed 6 s, estimated 125 s, iters = {MDP: 69}, opt = 0.674
> progress 5.664%, elapsed 9 s, estimated 161 s, iters = {MDP: 155}, opt = 0.674
> progress 6.64%, elapsed 12 s, estimated 183 s, iters = {MDP: 200}, opt = 0.674
> progress 7.812%, elapsed 15 s, estimated 195 s, iters = {MDP: 228}, opt = 0.674
> progress 8.398%, elapsed 18 s, estimated 217 s, iters = {MDP: 248}, opt = 0.674
> progress 9.375%, elapsed 21 s, estimated 228 s, iters = {MDP: 268}, opt = 0.674
> progress 9.461%, elapsed 24 s, estimated 258 s, iters = {MDP: 289}, opt = 0.674
> progress 9.526%, elapsed 27 s, estimated 288 s, iters = {MDP: 310}, opt = 0.674
> progress 9.606%, elapsed 30 s, estimated 317 s, iters = {MDP: 331}, opt = 0.674
> progress 9.667%, elapsed 33 s, estimated 346 s, iters = {MDP: 352}, opt = 0.674
> progress 9.733%, elapsed 36 s, estimated 376 s, iters = {MDP: 374}, opt = 0.674
> progress 9.787%, elapsed 39 s, estimated 405 s, iters = {MDP: 396}, opt = 0.674
> progress 9.833%, elapsed 42 s, estimated 434 s, iters = {MDP: 417}, opt = 0.674
> progress 9.869%, elapsed 45 s, estimated 464 s, iters = {MDP: 438}, opt = 0.674
> progress 9.928%, elapsed 48 s, estimated 491 s, iters = {MDP: 459}, opt = 0.674
> progress 10.156%, elapsed 51 s, estimated 511 s, iters = {MDP: 480}, opt = 0.674
> progress 10.98%, elapsed 54 s, estimated 500 s, iters = {MDP: 576}, opt = 0.674
> progress 11.067%, elapsed 58 s, estimated 524 s, iters = {MDP: 724}, opt = 0.674
> progress 11.076%, elapsed 61 s, estimated 551 s, iters = {MDP: 752}, opt = 0.674
> progress 11.084%, elapsed 64 s, estimated 579 s, iters = {MDP: 780}, opt = 0.674
> progress 11.092%, elapsed 67 s, estimated 606 s, iters = {MDP: 809}, opt = 0.674
> progress 11.098%, elapsed 70 s, estimated 633 s, iters = {MDP: 837}, opt = 0.674
2024-04-05 00:06:21,991 - synthesizer_ar_storm.py - Pausing synthesis
2024-04-05 00:06:22,091 - storm_pomdp_control.py - Interactive Storm started
2024-04-05 00:06:22,091 - storm_pomdp_control.py - starting Storm POMDP analysis
2024-04-05 00:06:32,121 - storm_pomdp_control.py - Pausing Storm
Finished exploring under-approximation MDP.
Start analysis...
-----------Storm-----------               
Value = 1710.1451224364364 | Time elapsed = 465.7s | FSC size = 21


------------------------------------

PAYNT results: 
0.6741751926874353
controller size: 16

Storm results: 
1710.1451224364364
controller size: 21

------------------------------------

2024-04-05 00:12:37,511 - synthesizer_pomdp.py - Timeout for PAYNT started
2024-04-05 00:12:37,918 - synthesizer_ar_storm.py - Resuming synthesis
2024-04-05 00:12:37,919 - synthesizer_ar_storm.py - Applying family split according to Storm results
2024-04-05 00:12:37,919 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 3869835264 to 531441
2024-04-05 00:12:37,919 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 3869835264 to 531441
2024-04-05 00:12:37,919 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 3869835264 to 531441
2024-04-05 00:12:37,919 - synthesizer_ar_storm.py - State after Storm splitting: Main families - 3, Subfamilies - 34
-----------PAYNT-----------                     
Value = 1683.0895188096592 | Time elapsed = 466.4s | FSC size = 22

> progress 11.104%, elapsed 73 s, estimated 660 s, iters = {MDP: 932}, opt = 1683.09
> progress 11.109%, elapsed 76 s, estimated 687 s, iters = {MDP: 1104}, opt = 1683.09
2024-04-05 00:12:43,196 - synthesizer_ar_storm.py - Main family synthesis done
2024-04-05 00:12:43,196 - synthesizer_ar_storm.py - Subfamilies buffer contains: 34 families
> progress 25.016%, elapsed 79 s, estimated 317 s, iters = {MDP: 1219}, opt = 1683.09
> progress 25.044%, elapsed 82 s, estimated 328 s, iters = {MDP: 1394}, opt = 1683.09
> progress 25.158%, elapsed 85 s, estimated 339 s, iters = {MDP: 1559}, opt = 1683.09
> progress 25.2%, elapsed 88 s, estimated 350 s, iters = {MDP: 1728}, opt = 1683.09
> progress 25.201%, elapsed 91 s, estimated 362 s, iters = {MDP: 1879}, opt = 1683.09
> progress 25.757%, elapsed 94 s, estimated 366 s, iters = {MDP: 2025}, opt = 1683.09
> progress 25.758%, elapsed 97 s, estimated 378 s, iters = {MDP: 2169}, opt = 1683.09
> progress 25.759%, elapsed 100 s, estimated 389 s, iters = {MDP: 2317}, opt = 1683.09
> progress 25.761%, elapsed 103 s, estimated 401 s, iters = {MDP: 2466}, opt = 1683.09
> progress 25.762%, elapsed 106 s, estimated 413 s, iters = {MDP: 2615}, opt = 1683.09
> progress 27.367%, elapsed 109 s, estimated 399 s, iters = {MDP: 2766}, opt = 1683.09
> progress 27.369%, elapsed 112 s, estimated 410 s, iters = {MDP: 2924}, opt = 1683.09
> progress 27.371%, elapsed 115 s, estimated 421 s, iters = {MDP: 3091}, opt = 1683.09
> progress 27.372%, elapsed 118 s, estimated 432 s, iters = {MDP: 3254}, opt = 1683.09
> progress 27.374%, elapsed 121 s, estimated 443 s, iters = {MDP: 3420}, opt = 1683.09
> progress 34.451%, elapsed 124 s, estimated 361 s, iters = {MDP: 3573}, opt = 1683.09
> progress 34.459%, elapsed 127 s, estimated 369 s, iters = {MDP: 3715}, opt = 1683.09
> progress 34.463%, elapsed 130 s, estimated 378 s, iters = {MDP: 3865}, opt = 1683.09
> progress 34.47%, elapsed 133 s, estimated 387 s, iters = {MDP: 4012}, opt = 1683.09
> progress 34.475%, elapsed 136 s, estimated 396 s, iters = {MDP: 4166}, opt = 1683.09
> progress 34.477%, elapsed 139 s, estimated 404 s, iters = {MDP: 4321}, opt = 1683.09
> progress 37.116%, elapsed 142 s, estimated 384 s, iters = {MDP: 4484}, opt = 1683.09
> progress 37.192%, elapsed 145 s, estimated 391 s, iters = {MDP: 4597}, opt = 1683.09
> progress 37.195%, elapsed 148 s, estimated 399 s, iters = {MDP: 4720}, opt = 1683.09
> progress 37.2%, elapsed 151 s, estimated 407 s, iters = {MDP: 4845}, opt = 1683.09
> progress 37.205%, elapsed 154 s, estimated 415 s, iters = {MDP: 4972}, opt = 1683.09
> progress 37.209%, elapsed 157 s, estimated 423 s, iters = {MDP: 5099}, opt = 1683.09
> progress 37.21%, elapsed 160 s, estimated 431 s, iters = {MDP: 5237}, opt = 1683.09
2024-04-05 00:14:07,619 - synthesizer_ar_storm.py - Pausing synthesis
2024-04-05 00:14:07,708 - storm_pomdp_control.py - Interactive Storm resumed
2024-04-05 00:14:07,709 - storm_pomdp_control.py - Updating FSC values in Storm
2024-04-05 00:14:17,729 - storm_pomdp_control.py - Pausing Storm
Finished exploring under-approximation MDP.
Start analysis...
-----------Storm-----------               
Value = 1710.1451224364364 | Time elapsed = 1167.6s | FSC size = 21


------------------------------------

PAYNT results: 
1683.0895188096592
controller size: 22

Storm results: 
1710.1451224364364
controller size: 21

------------------------------------

2024-04-05 00:24:19,811 - synthesizer_ar_storm.py - Terminating controller synthesis
2024-04-05 00:24:19,811 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-05 00:24:19,811 - synthesizer.py - A(NBL,0)=(ship), A(NBL,1)=(inspect), A(NBL,2)=(paint), M(NBL,0)=1, M(NBL,1)=2, M(NBL,2)=0, A(BL,0)=(reject), A(BL,1)=(reject), A(BL,2)=(reject), M(BL,0)=0, M(BL,1)=0, M(BL,2)=1, M(init,0)=0, A(__no_obs__,0)=(inspect), A(__no_obs__,1)=(inspect), A(__no_obs__,2)=(inspect), M(__no_obs__,0)=2, M(__no_obs__,1)=2, M(__no_obs__,2)=2
2024-04-05 00:24:19,821 - synthesizer.py - double-checking specification satisfiability:  : 1683.0895188096592
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [F "discount_sink"] 

method: AR, synthesis time: 161.71 s
number of holes: 19, family size: 1e10, quotient: 32 states / 364 actions
explored: 37 %
MDP stats: avg MDP size: 32, iterations: 5284

optimum: 1683.089519
--------------------
2024-04-05 00:24:19,831 - synthesizer_pomdp.py - Terminate: True
2024-04-05 00:24:19,831 - storm_pomdp_control.py - Storm POMDP analysis completed

------------------------------------

PAYNT results: 
1683.0895188096592
controller size: 22

Storm results: 
1710.1451224364364
controller size: 21

------------------------------------

