2024-04-13 12:04:29,077 - cli.py - This is Paynt version 0.1.0.
2024-04-13 12:04:29,077 - sketch.py - loading sketch from ../sarsop/models/0999/hanks.95.pomdp ...
2024-04-13 12:04:29,077 - sketch.py - assuming sketch in PRISM format...
ERROR (SpiritErrorHandler.h:26): Parsing error at 1:1:  expecting <model type>, here:
	# Problem based on example in some of Steve Hanks' papers
	^

2024-04-13 12:04:29,078 - sketch.py - assuming sketch in DRN format...
ERROR (DirectEncodingParser.cpp:124): Could not parse line '# Problem based on example in some of Steve Hanks' papers'.
2024-04-13 12:04:29,078 - sketch.py - assuming sketch in Cassandra format...
MADP: trying to parse as POMDP...
MADP: parsing success
2024-04-13 12:04:29,080 - sketch.py - applying discount factor transformation...
2024-04-13 12:04:29,080 - sketch.py - sketch parsing OK
2024-04-13 12:04:29,080 - sketch.py - constructed explicit quotient having 11 states and 41 actions
2024-04-13 12:04:29,080 - sketch.py - found the following specification optimality: R[exp]{"reward"}max=? [C{999/1000}] 
2024-04-13 12:04:29,081 - pomdp.py - constructed POMDP having 4 observations.
2024-04-13 12:04:29,081 - pomdp.py - unfolding 1-FSC template into POMDP ...
2024-04-13 12:04:29,081 - pomdp.py - constructed quotient MDP having 11 states and 41 actions.
2024-04-13 12:04:29,081 - pomdp.py - creating coloring ...
2024-04-13 12:04:29,083 - synthesizer_pomdp.py - Storm POMDP option enabled
2024-04-13 12:04:29,083 - synthesizer_pomdp.py - Storm settings: iterative - (900, 90, 10), get_storm_result - None, storm_options - cutoff, prune_storm - False, unfold_strategy - (True, False), use_storm_cutoffs - False, enhanced_saynt - None, saynt_overapprox - False
2024-04-13 12:04:29,083 - synthesizer.py - synthesis initiated, design space: 64
2024-04-13 12:04:29,083 - synthesizer_pomdp.py - Timeout for PAYNT started
-----------PAYNT-----------                     
Value = -1.1080025785759062e-13 | Time elapsed = 0.0s | FSC size = 8

-----------PAYNT-----------                     
Value = 0.24974999999999997 | Time elapsed = 0.0s | FSC size = 8

-----------PAYNT-----------                     
Value = 0.3625918775495448 | Time elapsed = 0.0s | FSC size = 8

-----------PAYNT-----------                     
Value = 0.3629548233588965 | Time elapsed = 0.0s | FSC size = 8

2024-04-13 12:04:29,109 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-13 12:04:29,109 - synthesizer.py - A(NBL,0)=(inspect), A(BL,0)=(reject), A(__no_obs__,0)=(inspect)
2024-04-13 12:04:29,110 - synthesizer.py - double-checking specification satisfiability:  : 0.3629548233588965
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [C{999/1000}] 

method: AR, synthesis time: 0.03 s
number of holes: 3, family size: 64, quotient: 11 states / 41 actions
explored: 100 %
MDP stats: avg MDP size: 11, iterations: 30

optimum: 0.362955
--------------------
2024-04-13 12:04:29,110 - synthesizer_pomdp.py - Terminate: False
2024-04-13 12:04:29,110 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-13 12:04:29,110 - pomdp.py - unfolding 2-FSC template into POMDP ...
2024-04-13 12:04:29,110 - pomdp.py - constructed quotient MDP having 21 states and 162 actions.
2024-04-13 12:04:29,110 - pomdp.py - creating coloring ...
2024-04-13 12:04:29,111 - synthesizer.py - synthesis initiated, design space: 524288
-----------PAYNT-----------                     
Value = 0.43086464846312605 | Time elapsed = 0.6s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.4980049835781277 | Time elapsed = 0.6s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.591692762081593 | Time elapsed = 0.6s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.612763642482282 | Time elapsed = 0.6s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.6681166683354816 | Time elapsed = 1.4s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.6687854456656399 | Time elapsed = 1.4s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.6692437639594861 | Time elapsed = 1.4s | FSC size = 14

2024-04-13 12:04:30,742 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-13 12:04:30,742 - synthesizer.py - A(NBL,0)=(inspect), A(NBL,1)=(inspect), M(NBL,0)=1, M(NBL,1)=1, A(BL,0)=(reject), A(BL,1)=(inspect), M(BL,0)=1, M(BL,1)=0, M(init,0)=0, A(__no_obs__,0)=(inspect), A(__no_obs__,1)=(reject), M(__no_obs__,0)=0, M(__no_obs__,1)=0
2024-04-13 12:04:30,743 - synthesizer.py - double-checking specification satisfiability:  : 0.6692437639594861
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [C{999/1000}] 

method: AR, synthesis time: 1.63 s
number of holes: 13, family size: 524288, quotient: 21 states / 162 actions
explored: 100 %
MDP stats: avg MDP size: 21, iterations: 1835

optimum: 0.669244
--------------------
2024-04-13 12:04:30,743 - synthesizer_pomdp.py - Terminate: False
2024-04-13 12:04:30,744 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-13 12:04:30,744 - pomdp.py - unfolding 3-FSC template into POMDP ...
2024-04-13 12:04:30,744 - pomdp.py - constructed quotient MDP having 31 states and 363 actions.
2024-04-13 12:04:30,744 - pomdp.py - creating coloring ...
2024-04-13 12:04:30,744 - synthesizer.py - synthesis initiated, design space: 1e10
> progress 11.093%, elapsed 3 s, estimated 27 s, iters = {MDP: 334}, opt = 0.669
> progress 14.518%, elapsed 6 s, estimated 41 s, iters = {MDP: 713}, opt = 0.669
> progress 17.644%, elapsed 9 s, estimated 51 s, iters = {MDP: 1966}, opt = 0.669
> progress 17.696%, elapsed 12 s, estimated 67 s, iters = {MDP: 3928}, opt = 0.669
> progress 18.207%, elapsed 15 s, estimated 82 s, iters = {MDP: 5908}, opt = 0.669
> progress 19.222%, elapsed 18 s, estimated 95 s, iters = {MDP: 6127}, opt = 0.669
> progress 22.025%, elapsed 21 s, estimated 96 s, iters = {MDP: 6595}, opt = 0.669
> progress 23.177%, elapsed 24 s, estimated 106 s, iters = {MDP: 7737}, opt = 0.669
> progress 23.415%, elapsed 27 s, estimated 119 s, iters = {MDP: 7752}, opt = 0.669
> progress 23.69%, elapsed 31 s, estimated 131 s, iters = {MDP: 8986}, opt = 0.669
> progress 23.841%, elapsed 34 s, estimated 143 s, iters = {MDP: 10662}, opt = 0.669
> progress 24.28%, elapsed 37 s, estimated 153 s, iters = {MDP: 11298}, opt = 0.669
> progress 29.101%, elapsed 40 s, estimated 138 s, iters = {MDP: 11771}, opt = 0.669
> progress 38.328%, elapsed 43 s, estimated 112 s, iters = {MDP: 12237}, opt = 0.669
> progress 42.291%, elapsed 46 s, estimated 109 s, iters = {MDP: 13090}, opt = 0.669
-----------PAYNT-----------                     
Value = 0.7864483609941242 | Time elapsed = 48.5s | FSC size = 20

-----------PAYNT-----------                     
Value = 82.09937790833182 | Time elapsed = 49.4s | FSC size = 20

-----------PAYNT-----------                     
Value = 82.40066674415895 | Time elapsed = 49.5s | FSC size = 20

-----------PAYNT-----------                     
Value = 169.7215979636585 | Time elapsed = 49.6s | FSC size = 20

-----------PAYNT-----------                     
Value = 169.85707864181018 | Time elapsed = 49.7s | FSC size = 20

-----------PAYNT-----------                     
Value = 169.89149364507657 | Time elapsed = 49.7s | FSC size = 20

-----------PAYNT-----------                     
Value = 169.8931666434005 | Time elapsed = 50.2s | FSC size = 20

> progress 61.523%, elapsed 49 s, estimated 80 s, iters = {MDP: 14082}, opt = 169.893
2024-04-13 12:05:22,900 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-13 12:05:22,900 - synthesizer.py - A(NBL,0)=(ship), A(NBL,1)=(inspect), A(NBL,2)=(paint), M(NBL,0)=1, M(NBL,1)=2, M(NBL,2)=0, A(BL,0)=(paint), A(BL,1)=(paint), A(BL,2)=(reject), M(BL,0)=0, M(BL,1)=0, M(BL,2)=1, M(init,0)=0, A(__no_obs__,0)=(inspect), A(__no_obs__,1)=(reject), A(__no_obs__,2)=(reject), M(__no_obs__,0)=2, M(__no_obs__,1)=0, M(__no_obs__,2)=0
2024-04-13 12:05:22,901 - synthesizer.py - double-checking specification satisfiability:  : 169.8931666434005
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [C{999/1000}] 

method: AR, synthesis time: 52.16 s
number of holes: 19, family size: 1e10, quotient: 31 states / 363 actions
explored: 100 %
MDP stats: avg MDP size: 31, iterations: 14956

optimum: 169.893167
--------------------
2024-04-13 12:05:22,903 - synthesizer_pomdp.py - Terminate: False
2024-04-13 12:05:22,903 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-13 12:05:22,903 - pomdp.py - unfolding 4-FSC template into POMDP ...
2024-04-13 12:05:22,903 - pomdp.py - constructed quotient MDP having 41 states and 644 actions.
2024-04-13 12:05:22,903 - pomdp.py - creating coloring ...
2024-04-13 12:05:22,904 - synthesizer.py - synthesis initiated, design space: 1e15
> progress 10.548%, elapsed 3 s, estimated 28 s, iters = {MDP: 360}, opt = 169.893
> progress 10.549%, elapsed 6 s, estimated 56 s, iters = {MDP: 908}, opt = 169.893
> progress 10.55%, elapsed 9 s, estimated 85 s, iters = {MDP: 1515}, opt = 169.893
> progress 10.55%, elapsed 12 s, estimated 113 s, iters = {MDP: 2123}, opt = 169.893
> progress 10.551%, elapsed 15 s, estimated 142 s, iters = {MDP: 2726}, opt = 169.893
> progress 10.551%, elapsed 18 s, estimated 170 s, iters = {MDP: 3331}, opt = 169.893
> progress 10.552%, elapsed 21 s, estimated 199 s, iters = {MDP: 3932}, opt = 169.893
> progress 11.72%, elapsed 24 s, estimated 204 s, iters = {MDP: 4334}, opt = 169.893
> progress 11.721%, elapsed 27 s, estimated 230 s, iters = {MDP: 5139}, opt = 169.893
> progress 11.722%, elapsed 30 s, estimated 256 s, iters = {MDP: 5980}, opt = 169.893
> progress 11.723%, elapsed 33 s, estimated 281 s, iters = {MDP: 6830}, opt = 169.893
> progress 11.723%, elapsed 36 s, estimated 307 s, iters = {MDP: 7612}, opt = 169.893
2024-04-13 12:05:59,191 - synthesizer_ar_storm.py - Pausing synthesis
2024-04-13 12:05:59,290 - storm_pomdp_control.py - Interactive Storm started
2024-04-13 12:05:59,290 - storm_pomdp_control.py - starting Storm POMDP analysis
2024-04-13 12:06:09,304 - storm_pomdp_control.py - Pausing Storm
Finished exploring under-approximation MDP.
Start analysis...
-----------Storm-----------               
Value = 169.89590217570276 | Time elapsed = 433.6s | FSC size = 14


------------------------------------

PAYNT results: 
169.8931666434005
controller size: 20

Storm results: 
169.89590217570276
controller size: 14

------------------------------------

2024-04-13 12:11:42,801 - synthesizer_pomdp.py - Timeout for PAYNT started
2024-04-13 12:11:43,076 - synthesizer_ar_storm.py - Resuming synthesis
2024-04-13 12:11:43,078 - synthesizer_ar_storm.py - Applying family split according to Storm results
2024-04-13 12:11:43,106 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 281474976710656 to 1811939328
2024-04-13 12:11:43,138 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 281474976710656 to 1811939328
2024-04-13 12:11:43,156 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 281474976710656 to 1811939328
2024-04-13 12:11:43,216 - synthesizer_ar_storm.py - State after Storm splitting: Main families - 3, Subfamilies - 50
> progress 11.724%, elapsed 39 s, estimated 332 s, iters = {MDP: 8705}, opt = 169.893
> progress 11.724%, elapsed 42 s, estimated 358 s, iters = {MDP: 9796}, opt = 169.893
> progress 11.724%, elapsed 45 s, estimated 384 s, iters = {MDP: 10816}, opt = 169.893
> progress 11.724%, elapsed 48 s, estimated 409 s, iters = {MDP: 11887}, opt = 169.893
> progress 11.724%, elapsed 51 s, estimated 435 s, iters = {MDP: 12827}, opt = 169.893
> progress 11.724%, elapsed 54 s, estimated 460 s, iters = {MDP: 13943}, opt = 169.893
> progress 11.724%, elapsed 57 s, estimated 486 s, iters = {MDP: 14903}, opt = 169.893
> progress 11.724%, elapsed 60 s, estimated 512 s, iters = {MDP: 15913}, opt = 169.893
> progress 11.724%, elapsed 63 s, estimated 538 s, iters = {MDP: 16978}, opt = 169.893
-----------PAYNT-----------                     
Value = 169.89326859633837 | Time elapsed = 462.8s | FSC size = 26

> progress 11.724%, elapsed 66 s, estimated 563 s, iters = {MDP: 18277}, opt = 169.893
> progress 11.724%, elapsed 69 s, estimated 589 s, iters = {MDP: 19630}, opt = 169.893
2024-04-13 12:12:16,403 - synthesizer_ar_storm.py - Main family synthesis done
2024-04-13 12:12:16,403 - synthesizer_ar_storm.py - Subfamilies buffer contains: 50 families
> progress 11.725%, elapsed 72 s, estimated 614 s, iters = {MDP: 20491}, opt = 169.893
> progress 15.236%, elapsed 75 s, estimated 492 s, iters = {MDP: 20763}, opt = 169.893
> progress 15.237%, elapsed 78 s, estimated 512 s, iters = {MDP: 21278}, opt = 169.893
> progress 15.238%, elapsed 81 s, estimated 532 s, iters = {MDP: 21803}, opt = 169.893
> progress 15.238%, elapsed 84 s, estimated 551 s, iters = {MDP: 22361}, opt = 169.893
> progress 15.239%, elapsed 87 s, estimated 571 s, iters = {MDP: 22947}, opt = 169.893
> progress 15.239%, elapsed 90 s, estimated 591 s, iters = {MDP: 23524}, opt = 169.893
> progress 15.24%, elapsed 93 s, estimated 610 s, iters = {MDP: 24099}, opt = 169.893
> progress 15.24%, elapsed 96 s, estimated 630 s, iters = {MDP: 24687}, opt = 169.893
> progress 17.58%, elapsed 99 s, estimated 563 s, iters = {MDP: 25024}, opt = 169.893
> progress 17.581%, elapsed 102 s, estimated 580 s, iters = {MDP: 25568}, opt = 169.893
> progress 17.582%, elapsed 105 s, estimated 597 s, iters = {MDP: 26134}, opt = 169.893
> progress 17.582%, elapsed 108 s, estimated 614 s, iters = {MDP: 26706}, opt = 169.893
> progress 17.582%, elapsed 111 s, estimated 632 s, iters = {MDP: 27272}, opt = 169.893
> progress 17.583%, elapsed 114 s, estimated 649 s, iters = {MDP: 27843}, opt = 169.893
> progress 17.584%, elapsed 117 s, estimated 666 s, iters = {MDP: 28443}, opt = 169.893
> progress 17.822%, elapsed 120 s, estimated 676 s, iters = {MDP: 28950}, opt = 169.893
> progress 21.096%, elapsed 123 s, estimated 586 s, iters = {MDP: 29589}, opt = 169.893
2024-04-13 12:13:12,912 - synthesizer_ar_storm.py - Pausing synthesis
2024-04-13 12:13:13,009 - storm_pomdp_control.py - Interactive Storm resumed
2024-04-13 12:13:13,010 - storm_pomdp_control.py - Updating FSC values in Storm
2024-04-13 12:13:23,030 - storm_pomdp_control.py - Pausing Storm
Finished exploring under-approximation MDP.
Start analysis...
-----------Storm-----------               
Value = 169.89590217819315 | Time elapsed = 1072.5s | FSC size = 14


------------------------------------

PAYNT results: 
169.89326859633837
controller size: 26

Storm results: 
169.89590217819315
controller size: 14

------------------------------------

2024-04-13 12:22:22,030 - synthesizer_ar_storm.py - Terminating controller synthesis
2024-04-13 12:22:22,145 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-13 12:22:22,169 - synthesizer.py - A(NBL,0)=(inspect), A(NBL,1)=(inspect), A(NBL,2)=(paint), A(NBL,3)=(ship), M(NBL,0)=2, M(NBL,1)=1, M(NBL,2)=3, M(NBL,3)=0, A(BL,0)=(reject), A(BL,1)=(reject), A(BL,2)=(reject), A(BL,3)=(reject), M(BL,0)=0, M(BL,1)=0, M(BL,2)=0, M(BL,3)=0, M(init,0)=0, A(__no_obs__,0)=(inspect), A(__no_obs__,1)=(inspect), A(__no_obs__,2)=(inspect), A(__no_obs__,3)=(inspect), M(__no_obs__,0)=2, M(__no_obs__,1)=2, M(__no_obs__,2)=2, M(__no_obs__,3)=2
2024-04-13 12:22:22,207 - synthesizer.py - double-checking specification satisfiability:  : 169.89326859633837
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [C{999/1000}] 

method: AR, synthesis time: 125.98 s
number of holes: 25, family size: 1e15, quotient: 41 states / 644 actions
explored: 21 %
MDP stats: avg MDP size: 41, iterations: 30188

optimum: 169.893269
--------------------
2024-04-13 12:22:22,221 - synthesizer_pomdp.py - Terminate: True
2024-04-13 12:22:22,224 - storm_pomdp_control.py - Storm POMDP analysis completed

------------------------------------

PAYNT results: 
169.89326859633837
controller size: 26

Storm results: 
169.89590217819315
controller size: 14

------------------------------------

