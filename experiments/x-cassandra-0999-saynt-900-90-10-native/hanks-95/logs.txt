2024-04-10 20:45:20,163 - cli.py - This is Paynt version 0.1.0.
2024-04-10 20:45:20,163 - sketch.py - loading sketch from ../sarsop/models/0999/hanks.95.pomdp ...
2024-04-10 20:45:20,163 - sketch.py - assuming sketch in PRISM format...
ERROR (SpiritErrorHandler.h:26): Parsing error at 1:1:  expecting <model type>, here:
	# Problem based on example in some of Steve Hanks' papers
	^

2024-04-10 20:45:20,165 - sketch.py - assuming sketch in DRN format...
ERROR (DirectEncodingParser.cpp:124): Could not parse line '# Problem based on example in some of Steve Hanks' papers'.
2024-04-10 20:45:20,165 - sketch.py - assuming sketch in Cassandra format...
MADP: trying to parse as POMDP...
MADP: parsing success
2024-04-10 20:45:20,167 - sketch.py - applying discount factor transformation...
2024-04-10 20:45:20,167 - sketch.py - sketch parsing OK
2024-04-10 20:45:20,167 - sketch.py - constructed explicit quotient having 11 states and 41 actions
2024-04-10 20:45:20,167 - sketch.py - found the following specification optimality: R[exp]{"reward"}max=? [C{999/1000}] 
2024-04-10 20:45:20,167 - pomdp.py - constructed POMDP having 4 observations.
2024-04-10 20:45:20,167 - pomdp.py - unfolding 1-FSC template into POMDP ...
2024-04-10 20:45:20,168 - pomdp.py - constructed quotient MDP having 11 states and 41 actions.
2024-04-10 20:45:20,168 - pomdp.py - creating coloring ...
2024-04-10 20:45:20,171 - synthesizer_pomdp.py - Storm POMDP option enabled
2024-04-10 20:45:20,171 - synthesizer_pomdp.py - Storm settings: iterative - (900, 90, 10), get_storm_result - None, storm_options - cutoff, prune_storm - False, unfold_strategy - (True, False), use_storm_cutoffs - False, enhanced_saynt - None, saynt_overapprox - False
2024-04-10 20:45:20,171 - synthesizer.py - synthesis initiated, design space: 64
2024-04-10 20:45:20,171 - synthesizer_pomdp.py - Timeout for PAYNT started
-----------PAYNT-----------                     
Value = -6.135447705446495e-11 | Time elapsed = 0.0s | FSC size = 8

-----------PAYNT-----------                     
Value = 0.24974999999999997 | Time elapsed = 0.0s | FSC size = 8

-----------PAYNT-----------                     
Value = 0.3625800011723807 | Time elapsed = 0.0s | FSC size = 8

-----------PAYNT-----------                     
Value = 0.36294294411649664 | Time elapsed = 0.0s | FSC size = 8

2024-04-10 20:45:20,218 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-10 20:45:20,219 - synthesizer.py - A(NBL,0)=(inspect), A(BL,0)=(reject), A(__no_obs__,0)=(inspect)
2024-04-10 20:45:20,219 - synthesizer.py - double-checking specification satisfiability:  : 0.36294294411649664
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [C{999/1000}] 

method: AR, synthesis time: 0.05 s
number of holes: 3, family size: 64, quotient: 11 states / 41 actions
explored: 100 %
MDP stats: avg MDP size: 11, iterations: 30

optimum: 0.362943
--------------------
2024-04-10 20:45:20,220 - synthesizer_pomdp.py - Terminate: False
2024-04-10 20:45:20,220 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-10 20:45:20,220 - pomdp.py - unfolding 2-FSC template into POMDP ...
2024-04-10 20:45:20,221 - pomdp.py - constructed quotient MDP having 21 states and 162 actions.
2024-04-10 20:45:20,221 - pomdp.py - creating coloring ...
2024-04-10 20:45:20,221 - synthesizer.py - synthesis initiated, design space: 524288
-----------PAYNT-----------                     
Value = 0.43085871058560454 | Time elapsed = 1.9s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.49800498802892995 | Time elapsed = 2.0s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.5916927682812994 | Time elapsed = 2.1s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.612763651745243 | Time elapsed = 2.2s | FSC size = 14

> progress 72.436%, elapsed 3 s, estimated 4 s, iters = {MDP: 813}, opt = 0.613
-----------PAYNT-----------                     
Value = 0.668105720999562 | Time elapsed = 5.5s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.6687744954950571 | Time elapsed = 5.6s | FSC size = 14

-----------PAYNT-----------                     
Value = 0.6692328197498315 | Time elapsed = 5.6s | FSC size = 14

> progress 95.922%, elapsed 6 s, estimated 6 s, iters = {MDP: 1670}, opt = 0.669
2024-04-10 20:45:26,747 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-10 20:45:26,747 - synthesizer.py - A(NBL,0)=(inspect), A(NBL,1)=(inspect), M(NBL,0)=1, M(NBL,1)=1, A(BL,0)=(reject), A(BL,1)=(inspect), M(BL,0)=1, M(BL,1)=0, M(init,0)=0, A(__no_obs__,0)=(inspect), A(__no_obs__,1)=(reject), M(__no_obs__,0)=0, M(__no_obs__,1)=0
2024-04-10 20:45:26,749 - synthesizer.py - double-checking specification satisfiability:  : 0.6692328197498315
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [C{999/1000}] 

method: AR, synthesis time: 6.53 s
number of holes: 13, family size: 524288, quotient: 21 states / 162 actions
explored: 100 %
MDP stats: avg MDP size: 21, iterations: 1835

optimum: 0.669233
--------------------
2024-04-10 20:45:26,750 - synthesizer_pomdp.py - Terminate: False
2024-04-10 20:45:26,750 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-10 20:45:26,750 - pomdp.py - unfolding 3-FSC template into POMDP ...
2024-04-10 20:45:26,750 - pomdp.py - constructed quotient MDP having 31 states and 363 actions.
2024-04-10 20:45:26,751 - pomdp.py - creating coloring ...
2024-04-10 20:45:26,751 - synthesizer.py - synthesis initiated, design space: 1e10
> progress 10.156%, elapsed 3 s, estimated 29 s, iters = {MDP: 267}, opt = 0.669
> progress 11.914%, elapsed 6 s, estimated 50 s, iters = {MDP: 590}, opt = 0.669
> progress 17.352%, elapsed 9 s, estimated 51 s, iters = {MDP: 891}, opt = 0.669
> progress 17.636%, elapsed 12 s, estimated 68 s, iters = {MDP: 1404}, opt = 0.669
> progress 17.645%, elapsed 15 s, estimated 85 s, iters = {MDP: 2003}, opt = 0.669
> progress 17.655%, elapsed 18 s, estimated 102 s, iters = {MDP: 2608}, opt = 0.669
> progress 17.676%, elapsed 21 s, estimated 118 s, iters = {MDP: 3223}, opt = 0.669
> progress 17.694%, elapsed 24 s, estimated 135 s, iters = {MDP: 3769}, opt = 0.669
> progress 17.7%, elapsed 27 s, estimated 152 s, iters = {MDP: 4333}, opt = 0.669
> progress 17.704%, elapsed 30 s, estimated 169 s, iters = {MDP: 4885}, opt = 0.669
> progress 17.838%, elapsed 33 s, estimated 185 s, iters = {MDP: 5422}, opt = 0.669
> progress 18.194%, elapsed 36 s, estimated 198 s, iters = {MDP: 5827}, opt = 0.669
> progress 20.317%, elapsed 39 s, estimated 192 s, iters = {MDP: 6207}, opt = 0.669
> progress 21.875%, elapsed 42 s, estimated 192 s, iters = {MDP: 6535}, opt = 0.669
> progress 22.34%, elapsed 45 s, estimated 201 s, iters = {MDP: 6945}, opt = 0.669
> progress 22.607%, elapsed 48 s, estimated 212 s, iters = {MDP: 7372}, opt = 0.669
> progress 23.448%, elapsed 51 s, estimated 217 s, iters = {MDP: 7804}, opt = 0.669
> progress 23.605%, elapsed 54 s, estimated 229 s, iters = {MDP: 8257}, opt = 0.669
> progress 23.61%, elapsed 57 s, estimated 241 s, iters = {MDP: 8879}, opt = 0.669
> progress 23.722%, elapsed 60 s, estimated 253 s, iters = {MDP: 9374}, opt = 0.669
> progress 23.762%, elapsed 63 s, estimated 265 s, iters = {MDP: 9901}, opt = 0.669
> progress 23.791%, elapsed 66 s, estimated 277 s, iters = {MDP: 10463}, opt = 0.669
> progress 23.917%, elapsed 69 s, estimated 288 s, iters = {MDP: 10943}, opt = 0.669
> progress 24.446%, elapsed 72 s, estimated 294 s, iters = {MDP: 11346}, opt = 0.669
> progress 28.943%, elapsed 75 s, estimated 259 s, iters = {MDP: 11696}, opt = 0.669
> progress 29.957%, elapsed 78 s, estimated 260 s, iters = {MDP: 12019}, opt = 0.669
> progress 38.444%, elapsed 81 s, estimated 210 s, iters = {MDP: 12295}, opt = 0.669
2024-04-10 20:46:50,196 - synthesizer_ar_storm.py - Pausing synthesis
2024-04-10 20:46:50,296 - storm_pomdp_control.py - Interactive Storm started
2024-04-10 20:46:50,296 - storm_pomdp_control.py - starting Storm POMDP analysis
2024-04-10 20:47:00,326 - storm_pomdp_control.py - Pausing Storm
Finished exploring under-approximation MDP.
Start analysis...
-----------Storm-----------               
Value = 169.89595278300894 | Time elapsed = 854.0s | FSC size = 14


------------------------------------

PAYNT results: 
0.6692328197498315
controller size: 14

Storm results: 
169.89595278300894
controller size: 14

------------------------------------

2024-04-10 20:59:34,135 - synthesizer_pomdp.py - Timeout for PAYNT started
2024-04-10 20:59:34,586 - synthesizer_ar_storm.py - Resuming synthesis
2024-04-10 20:59:34,586 - synthesizer_ar_storm.py - Applying family split according to Storm results
2024-04-10 20:59:34,586 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 3869835264 to 531441
2024-04-10 20:59:34,586 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 3869835264 to 531441
2024-04-10 20:59:34,587 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 967458816 to 177147
2024-04-10 20:59:34,587 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 241864704 to 59049
2024-04-10 20:59:34,587 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 80621568 to 19683
2024-04-10 20:59:34,587 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 80621568 to 19683
2024-04-10 20:59:34,587 - storm_pomdp_control.py - Main family based on data from Storm: reduced design space from 1119744 to 2187
2024-04-10 20:59:34,587 - synthesizer_ar_storm.py - State after Storm splitting: Main families - 7, Subfamilies - 47
-----------PAYNT-----------                     
Value = 0.7864364874606236 | Time elapsed = 854.5s | FSC size = 20

-----------PAYNT-----------                     
Value = 169.861538572075 | Time elapsed = 854.6s | FSC size = 20

-----------PAYNT-----------                     
Value = 169.8959527830321 | Time elapsed = 854.6s | FSC size = 20

> progress 41.146%, elapsed 84 s, estimated 204 s, iters = {MDP: 12622}, opt = 169.896
2024-04-10 20:59:35,326 - synthesizer_ar_storm.py - Main family synthesis done
2024-04-10 20:59:35,326 - synthesizer_ar_storm.py - Subfamilies buffer contains: 47 families
> progress 43.771%, elapsed 87 s, estimated 199 s, iters = {MDP: 13005}, opt = 169.896
> progress 47.368%, elapsed 90 s, estimated 190 s, iters = {MDP: 13326}, opt = 169.896
> progress 51.323%, elapsed 93 s, estimated 181 s, iters = {MDP: 13690}, opt = 169.896
> progress 68.753%, elapsed 96 s, estimated 139 s, iters = {MDP: 13983}, opt = 169.896
> progress 76.757%, elapsed 99 s, estimated 129 s, iters = {MDP: 14354}, opt = 169.896
> progress 87.304%, elapsed 102 s, estimated 117 s, iters = {MDP: 14605}, opt = 169.896
2024-04-10 20:59:53,790 - synthesizer.py - synthesis finished, printing synthesized assignment below:
2024-04-10 20:59:53,790 - synthesizer.py - A(NBL,0)=(ship), A(NBL,1)=(paint), A(NBL,2)=(inspect), M(NBL,0)=2, M(NBL,1)=0, M(NBL,2)=1, A(BL,0)=(reject), A(BL,1)=(reject), A(BL,2)=(reject), M(BL,0)=0, M(BL,1)=2, M(BL,2)=0, M(init,0)=0, A(__no_obs__,0)=(inspect), A(__no_obs__,1)=(inspect), A(__no_obs__,2)=(inspect), M(__no_obs__,0)=1, M(__no_obs__,1)=2, M(__no_obs__,2)=2
2024-04-10 20:59:53,794 - synthesizer.py - double-checking specification satisfiability:  : 169.8959527830321
--------------------
Synthesis summary:
optimality objective: R[exp]{"reward"}max=? [C{999/1000}] 

method: AR, synthesis time: 102.65 s
number of holes: 19, family size: 1e10, quotient: 31 states / 363 actions
explored: 100 %
MDP stats: avg MDP size: 31, iterations: 14637

optimum: 169.895953
--------------------
2024-04-10 20:59:53,797 - synthesizer_pomdp.py - Terminate: False
2024-04-10 20:59:53,797 - synthesizer_pomdp.py - Increase memory in all imperfect observation
2024-04-10 20:59:53,797 - pomdp.py - unfolding 4-FSC template into POMDP ...
2024-04-10 20:59:53,798 - pomdp.py - constructed quotient MDP having 41 states and 644 actions.
2024-04-10 20:59:53,798 - pomdp.py - creating coloring ...
2024-04-10 20:59:53,799 - synthesizer.py - synthesis initiated, design space: 1e15
> progress 10.546%, elapsed 3 s, estimated 28 s, iters = {MDP: 103}, opt = 169.896
> progress 10.548%, elapsed 6 s, estimated 57 s, iters = {MDP: 289}, opt = 169.896
> progress 10.549%, elapsed 9 s, estimated 85 s, iters = {MDP: 480}, opt = 169.896
> progress 10.549%, elapsed 12 s, estimated 113 s, iters = {MDP: 670}, opt = 169.896
> progress 10.549%, elapsed 15 s, estimated 142 s, iters = {MDP: 852}, opt = 169.896
> progress 10.549%, elapsed 18 s, estimated 171 s, iters = {MDP: 1034}, opt = 169.896
> progress 10.549%, elapsed 21 s, estimated 199 s, iters = {MDP: 1226}, opt = 169.896
> progress 10.55%, elapsed 24 s, estimated 228 s, iters = {MDP: 1422}, opt = 169.896
> progress 10.55%, elapsed 27 s, estimated 256 s, iters = {MDP: 1621}, opt = 169.896
> progress 10.55%, elapsed 30 s, estimated 285 s, iters = {MDP: 1822}, opt = 169.896
> progress 10.55%, elapsed 33 s, estimated 313 s, iters = {MDP: 2027}, opt = 169.896
> progress 10.551%, elapsed 36 s, estimated 342 s, iters = {MDP: 2232}, opt = 169.896
> progress 10.551%, elapsed 39 s, estimated 370 s, iters = {MDP: 2440}, opt = 169.896
> progress 10.551%, elapsed 42 s, estimated 399 s, iters = {MDP: 2650}, opt = 169.896
> progress 10.551%, elapsed 45 s, estimated 427 s, iters = {MDP: 2859}, opt = 169.896
> progress 10.551%, elapsed 48 s, estimated 456 s, iters = {MDP: 3058}, opt = 169.896
> progress 10.551%, elapsed 51 s, estimated 484 s, iters = {MDP: 3261}, opt = 169.896
> progress 10.552%, elapsed 54 s, estimated 513 s, iters = {MDP: 3472}, opt = 169.896
> progress 10.552%, elapsed 57 s, estimated 541 s, iters = {MDP: 3678}, opt = 169.896
> progress 10.552%, elapsed 60 s, estimated 570 s, iters = {MDP: 3882}, opt = 169.896
> progress 10.552%, elapsed 63 s, estimated 598 s, iters = {MDP: 4076}, opt = 169.896
> progress 10.839%, elapsed 66 s, estimated 610 s, iters = {MDP: 4253}, opt = 169.896
> progress 11.72%, elapsed 69 s, estimated 590 s, iters = {MDP: 4415}, opt = 169.896
2024-04-10 21:01:04,239 - synthesizer_ar_storm.py - Pausing synthesis
2024-04-10 21:01:04,338 - storm_pomdp_control.py - Interactive Storm resumed
2024-04-10 21:01:04,338 - storm_pomdp_control.py - Updating FSC values in Storm
2024-04-10 21:01:14,355 - storm_pomdp_control.py - Pausing Storm
Finished exploring under-approximation MDP.
Start analysis...
